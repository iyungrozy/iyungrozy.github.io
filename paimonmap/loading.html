<!--
 * @Author       : Jia Zeng
 * @LastEditTime: 2021-06-15 00:45
-->

<!DOCTYPE html>
<html lang="zh-Hans-CN" dir="ltr">

<head>
  <meta charset="UTF-8">
  <title>原神地图</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,minimal-ui" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge,chrome=1" />
  <meta name="renderer" content="webkit" />
  <meta name="force-rendering" content="webkit" />
  <meta name="theme-color" content="#ffffff" />
  <meta name="msappdivcation-navbutton-color" content="#ffffff" />
  <meta name="apple-mobile-web-app-status-bar-style" content="lack-translucent" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-title" content="Genshin Map">
  <meta name="format-detection" content="telephone=no" />
  <meta name="google" value="notranslate">
  <meta name="keywords" content="原神地图,原神地図,原神地图工具,全资源攻略地图,空荧酒馆,原神資源地圖,Genshin Map,Genshin Impact Map" />
  <meta name="description" content="米游社空荧酒馆制作的原神全资源攻略地图。" />
  <!-- Open Graph -->
  <meta property="fb:app_id" content="3340670332825887" />
  <meta property="og:url" content="https://yuanshen.site/" />
  <meta property="og:title" content="原神地图" />
  <meta property="og:site_name" content="Genshin Impact Map" />
  <meta property="og:description" content="米游社空荧酒馆制作的原神全资源攻略地图。" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://yuanshen.site/tiles_test/4/ppp10_9.jpg" />
  <meta name="twitter:widgets:csp" content="on">
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@yuanshen_site" />
  <meta name="twitter:image:src" content="https://yuanshen.site/tiles_test/4/ppp10_9.jpg" />
  <meta name="twitter:creator" content="@yuanshen_site" />
  <meta property="twitter:url" content="https://yuanshen.site/" />
  <meta property="twitter:type" content="website" />
  <meta property="twitter:title" content="原神地图" />
  <meta property="twitter:description" content="米游社空荧酒馆制作的原神全资源攻略地图。" />
  <meta property="twitter:image" content="https://yuanshen.site/tiles_test/4/ppp10_9.jpg" />
  <meta property="url" content="https://yuanshen.site/" />
  <meta property="type" content="website" />
  <meta property="title" content="原神地图" />
  <meta property="description" content="米游社空荧酒馆制作的原神全资源攻略地图。" />
  <meta property="image" content="https://yuanshen.site/tiles_test/4/ppp10_9.jpg" />
  <meta itemprop="name" content="原神地图" />
  <meta itemprop="description" content="米游社空荧酒馆制作的原神全资源攻略地图。" />
  <meta itemprop="image" content="https://yuanshen.site/tiles_test/4/ppp10_9.jpg" />
  <!-- Open Graph -->
  <meta http-equiv="refresh" content="4; url='https://yuanshen.site/index.html'">
  <link rel="alternate" href="https://yuanshen.site/" hreflang="x-default" />
  <link rel="canonical" href="https://yuanshen.site/" />
  <link rel="shortcut icon" href="https://yuanshen.site/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" href="https://yuanshen.site/favicon.ico" sizes="120x120" />
  <link rel="prefetch" href="/css/reset.css" as="style">
  <link rel="prefetch" href="/leaflet/leaflet.css" as="style">
  <link rel="prefetch" href="/dist/MarkerCluster.Default.css" as="style">
  <link rel="prefetch" href="/dist/MarkerCluster.css" as="style">
  <link rel="prefetch" href="/js/Cookie.js" as="script">
  <link rel="prefetch" href="/js/jquery-3.5.1.min.js" as="script">
  <link rel="prefetch" href="/js/getError.js" as="script">
  <link rel="prefetch" href="/js/wees.js" as="script">
  <link rel="prefetch" href="/leaflet/leaflet.js" as="script">
  <link rel="prefetch" href="/dist/leaflet.markercluster-src.js" as="script">
  <link rel="prefetch" href="/imgs/con_img/Content.png" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp9_9.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp10_9.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp9_8.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp10_8.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp9_10.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp10_10.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp8_9.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp11_9.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp8_8.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp11_8.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp8_10.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp11_10.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp9_11.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp10_11.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp9_11.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp11_11.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp8_11.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp19_18.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp20_21.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp18_21.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp20_19.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp18_19.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp19_21.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp20_20.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp18_20.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp19_19.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp41_42.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp39_43.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp40_43.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp38_40.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp41_40.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp38_43.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp41_43.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp19_20.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp39_41.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp40_41.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp39_42.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp40_42.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp39_40.jpg" as="image">
  <link rel="prefetch" href="/tiles_test/4/ppp40_40.jpg" as="image">
  <link rel="prefetch" href="/imgs/icon_126_done.png" as="image">
  <link rel="prefetch" href="/imgs/con_img/fold_open.png" as="image">
  <link rel="prefetch" href="/imgs/con_img/zhidong.png" as="image">
  <link rel="prefetch" href="/imgs/con_img/xumi.png" as="image">
  <link rel="prefetch" href="/imgs/con_img/fengdan.png" as="image">
  <link rel="prefetch" href="/imgs/con_img/munata.png" as="image">
  <link rel="prefetch" href="/imgs/con_img/liyue.png" as="image">
  <link rel="prefetch" href="/imgs/con_img/mengde-on.png" as="image">
  <link rel="prefetch" href="/imgs/con_img/daoqi.png" as="image">
  <link rel="prefetch" href="/imgs/con_img/fold.png" as="image">
  <link rel="prefetch" href="/imgs/con_img/border.png" as="image">
  <link rel="prefetch" href="/imgs/con_img/img-border.png" as="image">
  <link rel="prefetch" href="/imgs/con_img/Content.png" as="image">
  <link rel="prefetch" href="/imgs/genshin_art.png" as="image">
  <link rel="prefetch" href="/imgs/genshin_pub.png" as="image">
  <link rel="prefetch" href="/imgs/con_img/switch_on.png" as="image">
  <link rel="prefetch" href="imgs/con_img/danjixiazai.png" as="image">
  <link rel="prefetch" href="/imgs/icon_0.png" as="image">
  <link rel="prefetch" href="/imgs/icon_1.png" as="image">
  <link rel="prefetch" href="/imgs/icon_2.png" as="image">
  <link rel="prefetch" href="/imgs/icon_3.png" as="image">
  <link rel="prefetch" href="/imgs/icon_4.png" as="image">
  <link rel="prefetch" href="/imgs/icon_5.png" as="image">
  <link rel="prefetch" href="/imgs/icon_6.png" as="image">
  <link rel="prefetch" href="/imgs/icon_7.png" as="image">
  <link rel="prefetch" href="/imgs/icon_8.png" as="image">
  <link rel="prefetch" href="/imgs/icon_9.png" as="image">
  <link rel="prefetch" href="/imgs/icon_10.png" as="image">
  <link rel="prefetch" href="/imgs/icon_11.png" as="image">
  <link rel="prefetch" href="/imgs/icon_12.png" as="image">
  <link rel="prefetch" href="/imgs/icon_13.png" as="image">
  <link rel="prefetch" href="/imgs/icon_14.png" as="image">
  <link rel="prefetch" href="/imgs/icon_15.png" as="image">
  <link rel="prefetch" href="/imgs/icon_16.png" as="image">
  <link rel="prefetch" href="/imgs/icon_17.png" as="image">
  <link rel="prefetch" href="/imgs/icon_18.png" as="image">
  <link rel="prefetch" href="/imgs/icon_19.png" as="image">
  <link rel="prefetch" href="/imgs/icon_20.png" as="image">
  <link rel="prefetch" href="/imgs/icon_21.png" as="image">
  <link rel="prefetch" href="/imgs/icon_22.png" as="image">
  <link rel="prefetch" href="/imgs/icon_23.png" as="image">
  <link rel="prefetch" href="/imgs/icon_24.png" as="image">
  <link rel="prefetch" href="/imgs/icon_25.png" as="image">
  <link rel="prefetch" href="/imgs/icon_26.png" as="image">
  <link rel="prefetch" href="/imgs/icon_27.png" as="image">
  <link rel="prefetch" href="/imgs/icon_28.png" as="image">
  <link rel="prefetch" href="/imgs/icon_29.png" as="image">
  <link rel="prefetch" href="/imgs/icon_30.png" as="image">
  <link rel="prefetch" href="/imgs/icon_31.png" as="image">
  <link rel="prefetch" href="/imgs/icon_32.png" as="image">
  <link rel="prefetch" href="/imgs/icon_33.png" as="image">
  <link rel="prefetch" href="/imgs/icon_34.png" as="image">
  <link rel="prefetch" href="/imgs/icon_35.png" as="image">
  <link rel="prefetch" href="/imgs/icon_36.png" as="image">
  <link rel="prefetch" href="/imgs/icon_37.png" as="image">
  <link rel="prefetch" href="/imgs/icon_38.png" as="image">
  <link rel="prefetch" href="/imgs/icon_39.png" as="image">
  <link rel="prefetch" href="/imgs/icon_40.png" as="image">
  <link rel="prefetch" href="/imgs/icon_41.png" as="image">
  <link rel="prefetch" href="/imgs/icon_42.png" as="image">
  <link rel="prefetch" href="/imgs/icon_43.png" as="image">
  <link rel="prefetch" href="/imgs/icon_44.png" as="image">
  <link rel="prefetch" href="/imgs/icon_45.png" as="image">
  <link rel="prefetch" href="/imgs/icon_46.png" as="image">
  <link rel="prefetch" href="/imgs/icon_47.png" as="image">
  <link rel="prefetch" href="/imgs/icon_48.png" as="image">
  <link rel="prefetch" href="/imgs/icon_49.png" as="image">
  <link rel="prefetch" href="/imgs/icon_50.png" as="image">
  <link rel="prefetch" href="/imgs/icon_51.png" as="image">
  <link rel="prefetch" href="/imgs/icon_52.png" as="image">
  <link rel="prefetch" href="/imgs/icon_53.png" as="image">
  <link rel="prefetch" href="/imgs/icon_54.png" as="image">
  <link rel="prefetch" href="/imgs/icon_55.png" as="image">
  <link rel="prefetch" href="/imgs/icon_56.png" as="image">
  <link rel="prefetch" href="/imgs/icon_57.png" as="image">
  <link rel="prefetch" href="/imgs/icon_58.png" as="image">
  <link rel="prefetch" href="/imgs/icon_59.png" as="image">
  <link rel="prefetch" href="/imgs/icon_60.png" as="image">
  <link rel="prefetch" href="/imgs/icon_61.png" as="image">
  <link rel="prefetch" href="/imgs/icon_62.png" as="image">
  <link rel="prefetch" href="/imgs/icon_63.png" as="image">
  <link rel="prefetch" href="/imgs/icon_64.png" as="image">
  <link rel="prefetch" href="/imgs/icon_65.png" as="image">
  <link rel="prefetch" href="/imgs/icon_66.png" as="image">
  <link rel="prefetch" href="/imgs/icon_67.png" as="image">
  <link rel="prefetch" href="/imgs/icon_68.png" as="image">
  <link rel="prefetch" href="/imgs/icon_69.png" as="image">
  <link rel="prefetch" href="/imgs/icon_70.png" as="image">
  <link rel="prefetch" href="/imgs/icon_71.png" as="image">
  <link rel="prefetch" href="/imgs/icon_72.png" as="image">
  <link rel="prefetch" href="/imgs/icon_73.png" as="image">
  <link rel="prefetch" href="/imgs/icon_74.png" as="image">
  <link rel="prefetch" href="/imgs/icon_75.png" as="image">
  <link rel="prefetch" href="/imgs/icon_76.png" as="image">
  <link rel="prefetch" href="/imgs/icon_77.png" as="image">
  <link rel="prefetch" href="/imgs/icon_78.png" as="image">
  <link rel="prefetch" href="/imgs/icon_79.png" as="image">
  <link rel="prefetch" href="/imgs/icon_80.png" as="image">
  <link rel="prefetch" href="/imgs/icon_81.png" as="image">
  <link rel="prefetch" href="/imgs/icon_82.png" as="image">
  <link rel="prefetch" href="/imgs/icon_83.png" as="image">
  <link rel="prefetch" href="/imgs/icon_84.png" as="image">
  <link rel="prefetch" href="/imgs/icon_85.png" as="image">
  <link rel="prefetch" href="/imgs/icon_86.png" as="image">
  <link rel="prefetch" href="/imgs/icon_87.png" as="image">
  <link rel="prefetch" href="/imgs/icon_88.png" as="image">
  <link rel="prefetch" href="/imgs/icon_89.png" as="image">
  <link rel="prefetch" href="/imgs/icon_90.png" as="image">
  <link rel="prefetch" href="/imgs/icon_91.png" as="image">
  <link rel="prefetch" href="/imgs/icon_92.png" as="image">
  <link rel="prefetch" href="/imgs/icon_93.png" as="image">
  <link rel="prefetch" href="/imgs/icon_94.png" as="image">
  <link rel="prefetch" href="/imgs/icon_95.png" as="image">
  <link rel="prefetch" href="/imgs/icon_96.png" as="image">
  <link rel="prefetch" href="/imgs/icon_97.png" as="image">
  <link rel="prefetch" href="/imgs/icon_98.png" as="image">
  <link rel="prefetch" href="/imgs/icon_99.png" as="image">
  <link rel="prefetch" href="/imgs/icon_100.png" as="image">
  <link rel="prefetch" href="/imgs/icon_101.png" as="image">
  <link rel="prefetch" href="/imgs/icon_102.png" as="image">
  <link rel="prefetch" href="/imgs/icon_103.png" as="image">
  <link rel="prefetch" href="/imgs/icon_104.png" as="image">
  <link rel="prefetch" href="/imgs/icon_105.png" as="image">
  <link rel="prefetch" href="/imgs/icon_106.png" as="image">
  <link rel="prefetch" href="/imgs/icon_107.png" as="image">
  <link rel="prefetch" href="/imgs/icon_108.png" as="image">
  <link rel="prefetch" href="/imgs/icon_109.png" as="image">
  <link rel="prefetch" href="/imgs/icon_110.png" as="image">
  <link rel="prefetch" href="/imgs/icon_111.png" as="image">
  <link rel="prefetch" href="/imgs/icon_112.png" as="image">
  <link rel="prefetch" href="/imgs/icon_113.png" as="image">
  <link rel="prefetch" href="/imgs/icon_114.png" as="image">
  <link rel="prefetch" href="/imgs/icon_115.png" as="image">
  <link rel="prefetch" href="/imgs/icon_116.png" as="image">
  <link rel="prefetch" href="/imgs/icon_117.png" as="image">
  <link rel="prefetch" href="/imgs/icon_118.png" as="image">
  <link rel="prefetch" href="/imgs/icon_119.png" as="image">
  <link rel="prefetch" href="/imgs/icon_120.png" as="image">
  <link rel="prefetch" href="/imgs/icon_121.png" as="image">
  <link rel="prefetch" href="/imgs/icon_122.png" as="image">
  <link rel="prefetch" href="/imgs/icon_123.png" as="image">
  <link rel="prefetch" href="/imgs/icon_124.png" as="image">
  <link rel="prefetch" href="/imgs/icon_125.png" as="image">
  <link rel="prefetch" href="/imgs/icon_126.png" as="image">
  <link rel="prefetch" href="/imgs/icon_127.png" as="image">
  <link rel="prefetch" href="/imgs/icon_128.png" as="image">
  <link rel="prefetch" href="/imgs/icon_129.png" as="image">
  <link rel="prefetch" href="/imgs/icon_130.png" as="image">
  <link rel="prefetch" href="/imgs/icon_131.png" as="image">
  <link rel="prefetch" href="/imgs/icon_132.png" as="image">
  <link rel="prefetch" href="/imgs/icon_133.png" as="image">
  <link rel="prefetch" href="/imgs/icon_134.png" as="image">
  <link rel="prefetch" href="/imgs/icon_135.png" as="image">
  <link rel="prefetch" href="/imgs/icon_136.png" as="image">
  <link rel="prefetch" href="/imgs/icon_137.png" as="image">
  <link rel="prefetch" href="/imgs/icon_138.png" as="image">
  <link rel="prefetch" href="/imgs/icon_139.png" as="image">
  <link rel="prefetch" href="/imgs/icon_140.png" as="image">
  <link rel="prefetch" href="/imgs/icon_141.png" as="image">
  <link rel="prefetch" href="/imgs/icon_142.png" as="image">
  <link rel="prefetch" href="/css/hywh_thin2.ttf" as="font" crossorigin="anonymous">
  <link rel="prefetch" href="/css/hywh_thin3.ttf" as="font" crossorigin="anonymous">
  <link rel="prefetch" href="/css/hywh_thin4.ttf" as="font" crossorigin="anonymous">
  <link rel="prefetch" href="/css/hywh_thin.ttf" as="font" crossorigin="anonymous">
  <!-- Auto Polyfill -->
  <script crossOrigin="anonymous" src="https://polyfill.io/v3/polyfill.min.js"></script>
  <link rel="stylesheet" href="./css/global.min.css">
  <link rel="stylesheet" href="./css/loading/loading.css">
  <!-- Google Tag Manager -->
  <script>
    ( function ( w, d, s, l, i ) {
      w[ l ] = w[ l ] || [];
      w[ l ].push( {
        "gtm.start": new Date().getTime(),
        event: "gtm.js"
      } );
      var f = d.getElementsByTagName( s )[ 0 ],
        j = d.createElement( s ),
        dl = l != "dataLayer" ? "&l=" + l : "";
      j.async = true;
      j.src =
        "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
      f.parentNode.insertBefore( j, f );
    } )( window, document, "script", "dataLayer", "GTM-5H6V3NB" );
  </script>
  <!-- End Google Tag Manager -->
  <script type="application/ld+json">
    [ {
        "@context": "https://schema.org",
        "@type": "Organization",
        "url": "https://yuanshen.site",
        "logo": "https://yuanshen.site/tiles_test/4/ppp10_9.jpg"
      },
      {
        "@context": "https://schema.org/",
        "@type": "WebPage",
        "name": "Genshin Map",
        "author": {
          "@type": "Organization",
          "name": " Kongying"
        },
        "datePublished": "2021-05-08"
      },
      {
        "@context": "https://schema.org/",
        "@type": "ImageObject",
        "url": "https://yuanshen.site",
        "license": "https://yuanshen.site/disclaimer_en.html",
        "acquireLicensePage": "https://yuanshen.site/disclaimer_en.html"
      }
    ]
  </script>
</head>

<body data-theme="light">
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5H6V3NB" height="0" width="0"
            style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  <noscript>
    <p>(:</p>
    <p>We"re sorry but</p>
    <p>This page requires JavaScript to work properly</p>
  </noscript>
  <nav style="display: none;">
    <a href="https://yuanshen.site/index.html">index.html</a>
    <a href="https://yuanshen.site/index_en.html">index_en.html</a>
    <a href="https://yuanshen.site/index_jp.html">index_jp.html</a>
    <a href="https://yuanshen.site/main.html">main.html</a>
    <a href="https://yuanshen.site/main_en.html">main_en.html</a>
    <a href="https://yuanshen.site/main_jp.html">main_jp.html</a>
  </nav>
  <div class="wrapper" id="app">
    <div class="loading">
      <!-- 默认加载动画 -->
      <div class="loading-default">
        <img src="./imgs/loading-bar.png" alt="Loading...">
      </div>
      <!-- 移动端加载动画 -->
      <div class="loading-mobile">
        <ul class="rotate">
          <li class="item"></li>
          <li class="item"></li>
          <li class="item"></li>
          <li class="item"></li>
          <li class="item"></li>
        </ul>
        <h2 id="loading-text">Loading<dot></dot></h2>
      </div>
    </div>
  </div>
  <script>
    if ( !window.fetch ) window.location.href = "https://support.qq.com/products/321980/faqs/94046";
  </script>
  <script>
    (function () {
    "use strict";

    /**
     * @description: 延迟
     * @param {number} interval 延迟的时间(ms)
     * @return {Promise}
     */
    function delay(interval) {
        // @ts-ignore
        // @ts-ignore
        return new Promise(function (resolve, reject) {
            setTimeout(function () {
                resolve(interval);
            }, interval);
        });
    }

    /**
     * @description: 获取规范的区域语言代码
     * @param {array} localeCode
     * @return {array}
     */
    function getCanonicalLocales() {
        var localeCode = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            localeCode[_i] = arguments[_i];
        }
        try {
            if (typeof Intl.getCanonicalLocales() === "object")
                return Intl.getCanonicalLocales(localeCode);
        }
        catch (err) {
            console.error("Error Locales:", err);
        }
        return localeCode.map(function (val) { return CanonicalLocales(val); });
        /**
         * @description: 如果不支持上面的API就自己转
         * @param {string} str
         * @return {string}
         */
        function CanonicalLocales(str) {
            if (str === "" || typeof str === "undefined")
                console.error("str cannot be empty");
            var result = str.toLowerCase();
            var i = str.indexOf("-");
            if (i + 1 === result.length)
                return result.substring(0, result.length - 1);
            if (i !== -1)
                result = result.substring(0, i) + result.substring(i, result.length).toUpperCase();
            return result;
        }
    }

    /**
     * @description: 获取用户浏览器主语言
     * @param {string} defaultLanguage
     * @return {string | defaultLanguage}
     */
    function getUserLanguage(defaultLanguage) {
        var LANGUAGE = localStorage.getItem("locale") || window.navigator.language || defaultLanguage;
        LANGUAGE = getCanonicalLocales(LANGUAGE)[0];
        localStorage.setItem("locale", LANGUAGE);
        return LANGUAGE;
    }

    /**
     * @description: 输出会自动对齐的log
     * @param {string} title
     * @param {string} description
     * @param {Array<object>} data
     * @return {void}
     */
    function log(title, description, data) {
        var myTitle = title || "原神地图";
        var myDescription = description || "";
        var myData = data || [];
        var style = "font-size:13px;";
        console.group("%c" + myTitle + (myDescription === "" ? "" : "%c" + myDescription), "background:#35495e; padding: 2px 4px; border-radius: 3px 0 0 3px; color: #fff;font-family: sans-serif;", "background:#41b883 ; padding: 2px 4px; border-radius: 0 3px 3px 0;  color: #fff; font-family: sans-serif;");
        myData.forEach(function (val) {
            for (var prop in val) {
                if (val.hasOwnProperty(prop)) {
                    console.log("%c" + prop + "\u0020".repeat(18 - prop.length) + ": %c" + val[prop], "font-size:13px;", "font-size:13px;color: #45B744;");
                }
            }
        });
        console.groupEnd();
        console.log("%c📝\u0020问题反馈: https://support.qq.com/products/321980", style);
        console.log("%c😉\u0020了解更多: https://yuanshen.site/docs/disclaimer.html", style);
    }

    /**
     * @description: onload
     * @param {function} callback
     * @return {void}
     */
    function onloads(callback) {
        // @ts-ignore
        document.readyState === "complete" ? callback() : window.addEventListener("load", callback);
    }

    /**
     * @description: 设置伪元素样式
     * @param {string} className
     * @param {string} pseudo 伪元素
     * @param {object} obj // 样式
     * @return {HTMLStyleElement}
     */
    function setPseudoStyle(className, pseudo, obj) {
        var str = "";
        for (var prop in obj) {
            if (obj.hasOwnProperty(prop))
                str += prop + ":" + obj[prop] + ";";
        }
        var style = document.createElement("style");
        style.innerHTML = "." + className + "::" + pseudo + "{" + str + "}";
        document.head.appendChild(style);
        return style;
    }

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */

    function __spreadArray(to, from) {
        for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
            to[j] = from[i];
        return to;
    }

    /**
     * @description: 节流
     * @param {function} callback 回调函数
     * @param {number} wait 延迟(ms)
     * @return {function}
     */
    function throttle(callback, wait) {
        var previous = 0, timer = null;
        return function () {
            var _this = this;
            var params = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                params[_i] = arguments[_i];
            }
            var now = +Date.now(), remaining = wait - (now - previous);
            if (remaining <= 0) {
                clearTimeout(Number(timer));
                timer = null;
                previous = now;
                // @ts-ignore
                callback.call.apply(callback, __spreadArray([this], params));
            }
            else if (!timer) {
                timer = setTimeout(function () {
                    clearTimeout(Number(timer));
                    timer = null;
                    previous = +new Date();
                    // @ts-ignore
                    callback.call.apply(callback, __spreadArray([_this], params));
                }, remaining);
            }
        };
    }

    /**
     * @description: 无刷新动态修改url参数
     * @param {string} paramName 参数名
     * @param {string} newValue 参数值
     * @return {void}
     */
    function setURLParam(paramName, newValue) {
        var oldUrl = window.location.href.toString();
        var re = eval("/(" + paramName + "=)([^&]*)/gi");
        var result = oldUrl.replace(re, paramName + "=" + newValue);
        if (result === location.href &&
            !new URLSearchParams(new URL(location.href).search).has(paramName)) {
            if (location.search === "") {
                result = "?" + paramName + "=" + newValue + location.hash;
            }
            else {
                result = location.search + "&" + paramName + "=" + newValue + location.hash;
            }
        }
        history.pushState({
            url: result,
            title: document.title
        }, document.title, result);
    }

    window.utils = {
        delay: delay,
        getCanonicalLocales: getCanonicalLocales,
        getUserLanguage: getUserLanguage,
        log: log,
        onload: onloads,
        setPseudoStyle: setPseudoStyle,
        throttle: throttle,
        setURLParam: setURLParam,
    };

  }());
  </script>
  <script>
    ;
    (function () {
      function createLink(href, container) {
        const PRELOADLINK = document.createElement("link");
        const RE = new RegExp("^((https|http)?://)");
        PRELOADLINK.rel = "prefetch";
        PRELOADLINK.href = href;
        if (RE.test(href) && !href.includes(document.domain))
          PRELOADLINK.setAttribute("crossorigin", "anonymous");
        container.appendChild(PRELOADLINK);
        return PRELOADLINK;
      }

      class LoadingBar {
        constructor(element, maxDelay) {
          this.element = document.querySelectorAll(element)[0];
          this.maxDelay = maxDelay || 3000;
          this.parentNode = this.element.parentNode;
        }
        /** @public */
        start() {
          utils.setPseudoStyle(this.element.className,"after",{
              animation: `loading-bar ${this.maxDelay / 1000}s 1 forwards`,
          });
        }
        /** @public */
        async finish() {
          utils.setPseudoStyle(this.element.className,"after",{
              animation: `none`,
          });
          this.parentNode.style.opacity = 0;
          await utils.delay(800);
        }
      }

      (function () {
        const HOURS = new Date().getHours();
        let result;
        if (HOURS >= 7 && HOURS <= 18) {
          result = "light";
        } else {
          result = "dark";
        }
        document.body.setAttribute("data-theme", result);
        return result;
      })();

      const i18n = ( () => {
        const lang = utils.getUserLanguage(navigator.language);
        if ( !lang || /^(yue|zh)(-cn|-hans(-[a-z]+)?)?$/i.test( lang ) ) {
          return {
            lang: "zh-Hans",
            title: "原神地图",
            loadingText: "加载中",
            link: "index.html",
            prefetch: ["/index.html", "/js/index2.js", "/css/index.css"]
          }
        } else if ( lang.startsWith("zh") || lang.startsWith("yue") ) {
          return {
            lang: "zh-Hant",
            title: "原神地圖",
            loadingText: "加載中",
            link: "index.html",
            prefetch: ["/index.html","/js/index2.js", "/css/index.css"]
          }
        } else if ( lang.startsWith("ja") || lang.startsWith("jp") ) {
          return {
            lang: "ja-JP",
            title: "原神地図",
            loadingText: "読み込み中",
            link: "index_jp.html",
            prefetch: ["/index_jp.html","/js/index2_jp.js", "/css/index_jp.css"]
          }
        } else {
          return {
            lang: "en-US",
            title: "Genshin Map",
            loadingText: "Loading",
            link: "index_en.html",
            prefetch: ["/index_en.html","/js/index2_en.js","/css/index_en.css", "/js/milo.js"]
          }
        }
      } );
      const {
        lang,
        title,
        loadingText,
        link,
        prefetch
      } = i18n(); // 获取数据

      const myLoadingBar = new LoadingBar('.loading-default');                                 // Loading动画
      prefetch.forEach(val => createLink(val,document.head));                                  // 开始资源预加载
      document.documentElement.lang = lang;                                                    // 设置Lang
      document.title = title;                                                                  // 设置Title
      if(utils.getUserLanguage().startsWith("ar"))                                             // 如果是阿拉伯语将dir设为rtl
        document.documentElement.setAttribute("dir", "rtl");
      document.getElementById("loading-text").innerHTML = loadingText+"<dot></dot>";           // 设置Loading Text
      document.documentElement.oncontextmenu = ( e ) => e.preventDefault();                    // 屏蔽上下文菜单
      myLoadingBar.start();                                                                    // 开始动画
      window.onload = () => setTimeout(()=>replace(link),1500);

      async function replace(link) {
        // 加载动画结束后重定向
        await myLoadingBar.finish().then(()=>{
          document.location.replace( `https://yuanshen.site/${link}?locale=${utils.getUserLanguage()}` );
        });
      }

      utils.log(
        "原神地图", "自动跳转页",
        [ {
          pageVersion: "1.5.0",
          author: "(*^_^*)",
          lastEditTime: "2021-6-5"
        } ]
      );
    } )();
  </script>
</body>

</html>